window.__require=function t(e,c,o){function i(n,r){if(!c[n]){if(!e[n]){var a=n.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+n+"'")}n=a}var h=c[n]={exports:{}};e[n][0].call(h.exports,function(t){return i(e[n][1][t]||t)},h,h.exports,t,e,c,o)}return c[n].exports}for(var s="function"==typeof __require&&__require,n=0;n<o.length;n++)i(o[n]);return i}({game:[function(t,e,c){"use strict";cc._RF.push(e,"64ceaZn7ABFlb3pzngXnqvs","game"),cc.Class({extends:cc.Component,properties:{blockNode:cc.Node,baseNodeArr:[cc.Node],wallNodeArr:[cc.Node],scoreLabel:cc.Label,tarLabel:cc.Label,restartButton:cc.Button,messageLabel:cc.Label},onLoad:function(){this.node.on("touchstart",this.grow,this),this.node.on("touchend",this.stop,this),this.score=0,this.level=1,this.tar=this.level,this.scoreLabel.string="SCORE: ".concat(this.score,", LEVEL: ").concat(this.level),this.tarLabel.string=this.tar,this.init(),this.messageLabel.node.active=!1,this.restartButton.node.active=!1},onDestroy:function(){this.node.off("touchstart",this.grow,this),this.node.off("touchend",this.stop,this)},grow:function(){if("idle"==this.gameState){this.gameState="grow";var t=cc.sequence(cc.scaleTo(1,4),cc.callFunc(function(){}));this.growAction=this.blockNode.runAction(t)}},stop:function(){var t=this;if("grow"==this.gameState){this.gameState="rotate",this.blockNode.stopAction(this.growAction);var e=cc.sequence(cc.rotateTo(.15,0),cc.callFunc(function(){t.blockNode.width*t.blockNode.scaleX<=t.baseNodeArr[1].x-t.baseNodeArr[0].x?(t.blockNode.runAction(cc.sequence(cc.moveTo(.7,cc.v2(0,-1e3)),cc.callFunc(function(){t.gameOver()}))),cc.log("\u6389\u843d\u4e86")):t.blockNode.width*t.blockNode.scaleX<=t.wallNodeArr[1].x-t.wallNodeArr[0].x?t.Bounce(!0):t.Bounce(!1)}));this.rotateAction=this.blockNode.runAction(e)}},Bounce:function(t){var e=this,c=-(cc.winSize.height/2-this.baseNodeArr[0].height-this.blockNode.height*this.blockNode.scaleX/2);t||(c+=this.wallNodeArr[0].height),this.blockNode.runAction(cc.sequence(cc.moveTo(.7,cc.v2(0,c)).easing(cc.easeBounceOut()),cc.callFunc(function(){t?(e.updataScore(1),e.nextLevelCheck()):e.gameOver()})))},onClick_restart:function(){cc.director.loadScene("game")},gameOver:function(){cc.log("\u904a\u6232\u7d50\u675f"),this.messageLabel.node.active=!0,this.scheduleOnce(function(){this.restartButton.node.active=!0},1)},init:function(){this.gameState="idle",this.resetWall(),this.resetBlock()},start:function(){},placeWall:function(t,e){t.runAction(cc.moveTo(.5,cc.v2(e,t.y)).easing(cc.easeQuinticActionIn()))},resetWall:function(){var t=100+100*Math.random(),e=t+30+80*Math.random();this.placeWall(this.baseNodeArr[0],-t/2),this.placeWall(this.baseNodeArr[1],t/2),this.placeWall(this.wallNodeArr[0],-e/2),this.placeWall(this.wallNodeArr[1],e/2)},resetBlock:function(){this.blockNode.runAction(cc.sequence(cc.spawn(cc.rotateTo(.5,-45),cc.moveTo(.5,cc.v2(0,400)),cc.scaleTo(.5,1)),cc.callFunc(function(){})))},resetBgColor:function(){var t=["#4cb4e7","#ffc09f","#c7b3e5","#a3a380","#FFA042","#D2A2CC","#FF95CA","#97CBFF","#AAAAFF","#EA0000","#5B00AE","#E800E8"],e=(this.level-1)%t.length;this.node.color=cc.Color.BLACK.fromHEX(t[e])},nextLevelCheck:function(){this.gameState="idle",this.tar<=0&&(this.level++,this.tar=this.level),this.scoreLabel.string="SCORE: ".concat(this.score,", LEVEL: ").concat(this.level),this.tarLabel.string=this.tar,this.resetWall(),this.resetBlock(),this.resetBgColor()},updataScore:function(t){this.score+=t,this.tar-=t,this.scoreLabel.string="SCORE: ".concat(this.score,", LEVEL: ").concat(this.level),this.tarLabel.string=this.tar}}),cc._RF.pop()},{}]},{},["game"]);